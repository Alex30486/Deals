// ─── SENIOR LEVEL DYNAMIC ENGINE ─────────────────────────────────────────────
const runExecute = async () => {
    if (!loc) return addLog("CRITICAL: TARGET GEOMETRY UNDEFINED.", "err");

    setIsHunting(true);
    setResults([]);
    
    // STAGE 1: SEARCH (Injecting the specific location into the mock scraper)
    setActiveStep(0);
    addLog(`INITIALIZING SCAN FOR AREA: ${loc.toUpperCase()}...`, "info");
    await new Promise(r => setTimeout(r, 1500));

    // Simulate "Real" API data mapping based on the 'loc' variable
    const dynamicScrapedData = [
        {
            id: crypto.randomUUID(),
            zpid: Math.floor(Math.random() * 100000000).toString(),
            // DYNAMIC ADDRESS INJECTION: No more Florida-only results
            addr: `${Math.floor(Math.random() * 9000) + 100} Innovation Way, ${loc}`,
            price: Math.floor(Math.random() * (450000 - 150000) + 150000),
            zest: Math.floor(Math.random() * (600000 - 300000) + 300000),
            rent: Math.floor(Math.random() * (3500 - 1800) + 1800),
            tags: ["Deep Equity", "High Yield"],
            logic: `High variance in ${loc} sub-market suggests motivated seller. Capital recapture potential is high.`
        },
        {
            id: crypto.randomUUID(),
            zpid: Math.floor(Math.random() * 100000000).toString(),
            addr: `${Math.floor(Math.random() * 9000) + 100} Heritage Dr, ${loc}`,
            price: Math.floor(Math.random() * (350000 - 120000) + 120000),
            zest: Math.floor(Math.random() * (500000 - 250000) + 250000),
            rent: Math.floor(Math.random() * (2800 - 1500) + 1500),
            tags: ["BRRRR Play", "Value-Add"],
            logic: `Distressed asset identified in ${loc} corridor. 70% ARV rule applies. Refinance possible in 6 months.`
        }
    ];

    // STAGE 2: ENRICH (Processing the dynamic list)
    setActiveStep(1);
    addLog(`ENRICHING ${dynamicScrapedData.length} NODES FROM ${loc} DATASET...`, "info");
    await new Promise(r => setTimeout(r, 1200));

    // STAGE 3: AI ANALYSIS
    setActiveStep(2);
    addLog(`CLAUDE 3.5: FINISHED GEOSPATIAL SCORING FOR ${loc.toUpperCase()}.`, "success");
    await new Promise(r => setTimeout(r, 800));

    setResults(dynamicScrapedData);
    setActiveStep(-1);
    setIsHunting(false);
};
