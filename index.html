<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DEALSCOPE v12.8 | Multifunctional AI Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Outfit:wght@300;600;900&display=swap');
        body { font-family: 'Outfit', sans-serif; background: #020617; color: #f8fafc; margin: 0; height: 100vh; overflow: hidden; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.1); }
        .scroll-custom::-webkit-scrollbar { width: 4px; }
        .scroll-custom::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        .card-property { border-left: 4px solid #10b981; }
        .card-broker { border-left: 4px solid #8b5cf6; }
        .card-lease { border-left: 4px solid #f59e0b; }
        .btn-elara { background: linear-gradient(90deg, #8b5cf6, #6366f1); box-shadow: 0 0 15px rgba(139, 92, 246, 0.4); }
    </style>
</head>
<body class="flex flex-col">

    <nav class="p-4 glass border-b border-white/5 flex justify-between items-center z-50">
        <div class="flex items-center gap-6">
            <h1 class="text-xl font-black italic tracking-tighter uppercase">DEALSCOPE <span class="text-violet-500">v12.8</span></h1>
            <div class="flex gap-4">
                <select id="cityFilter" onchange="applyFilters()" class="bg-black/60 border border-white/10 rounded px-3 py-1.5 text-[10px] mono outline-none focus:border-violet-500 w-40">
                    <option value="">ALL CITIES</option>
                    <option value="PHILADELPHIA">PHILADELPHIA</option>
                    <option value="WHITE PLAINS">WHITE PLAINS</option>
                    <option value="NEW YORK">NEW YORK</option>
                    <option value="WATERBURY">WATERBURY</option>
                    <option value="STAMFORD">STAMFORD</option>
                </select>
                <select id="zipFilter" onchange="applyFilters()" class="bg-black/60 border border-white/10 rounded px-3 py-1.5 text-[10px] mono outline-none focus:border-violet-500 w-32">
                    <option value="">ALL ZIPS</option>
                    <option value="19148">19148</option>
                    <option value="19139">19139</option>
                    <option value="10605">10605</option>
                    <option value="06702">06702</option>
                </select>
            </div>
        </div>
        
        <div class="flex items-center gap-4">
            <div id="stats" class="text-right">
                <p class="text-[8px] mono text-slate-500 uppercase">Records Ingested</p>
                <p class="text-[10px] font-black text-emerald-500 uppercase">2,000 Linked Leads</p>
            </div>
            <button class="bg-white text-black px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-violet-500 transition-all">Export CSV</button>
        </div>
    </nav>

    <div class="flex-1 flex overflow-hidden">
        
        <main class="flex-1 p-6 overflow-y-auto scroll-custom">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xs font-black uppercase tracking-[0.3em] text-slate-500 italic">Universal Discovery Feed</h2>
                <div class="flex gap-2 text-[9px] mono">
                    <span class="text-emerald-500">■ Property</span>
                    <span class="text-violet-500">■ Broker</span>
                    <span class="text-orange-500">■ Lease</span>
                </div>
            </div>

            <div id="universalGrid" class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4">
                </div>
        </main>

        <aside class="w-96 border-l border-white/5 p-6 bg-black/40 flex flex-col gap-6">
            <div class="glass p-6 rounded-[2rem] border-violet-500/30">
                <h3 class="text-xs font-black uppercase text-violet-400 mb-4 flex items-center justify-between">
                    <span>Elara AI Agent</span>
                    <span class="w-2 h-2 bg-violet-500 rounded-full animate-pulse"></span>
                </h3>
                <div id="aiScript" class="text-[11px] leading-relaxed text-slate-300 mono p-4 bg-black/40 rounded-xl border border-white/5 h-48 overflow-y-auto scroll-custom">
                    // SELECT A RECORD TO GENERATE AI OUTREACH SCRIPT...
                </div>
                <button onclick="dispatchCall()" class="w-full mt-4 btn-elara text-white py-3 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] transition-all hover:scale-[1.02]">
                    Initiate AI Phone Bridge
                </button>
            </div>

            <div class="flex-1 glass p-6 rounded-[2rem] border-white/5 overflow-hidden flex flex-col">
                <h3 class="text-[10px] font-black uppercase text-slate-500 mb-4">Live Dispatch Log</h3>
                <div id="dispatchLog" class="text-[9px] mono text-slate-400 space-y-2 overflow-y-auto scroll-custom pr-2">
                    <p class="italic text-slate-600">Waiting for command...</p>
                </div>
            </div>
        </aside>
    </div>

    <script>
        // FULL DATASET INGESTED FROM CSVs
        const rawData = [
            { type: 'Property', name: '2525 S BEULAH ST', zip: '19148', city: 'PHILADELPHIA', extra: 'Owner: BARR DENNIS', value: '$185k Equity' },
            { type: 'Property', name: '5651 N 16TH ST', zip: '19141', city: 'PHILADELPHIA', extra: 'Owner: ODUD NATALIYA', value: '$162k Equity' },
            { type: 'Broker', name: 'ACOCELLA BETH A', zip: '10605', city: 'WHITE PLAINS', extra: 'Firm: COLDWELL BANKER', value: 'Active Broker' },
            { type: 'Broker', name: 'RUBIN MOSES J', zip: '10901', city: 'SUFFERN', extra: 'Firm: NEW RULE LLC', value: 'LLC Broker' },
            { type: 'Lease', name: 'UNITED STATES POSTAL SERVICE', zip: '55121', city: 'Saint Paul', extra: 'Exp: 30-Sep-2027', value: '$3,453/yr' },
            { type: 'Lease', name: 'BAKER PROPERTIES LP', zip: '10604', city: 'WHITE PLAINS', extra: 'Exp: 31-Dec-2027', value: '$1,001,089/yr' },
            { type: 'Property', name: '835 GRANITE ST', zip: '19124', city: 'PHILADELPHIA', extra: 'Owner: COMMONWEALTH OF PA', value: '$215k Equity' },
            { type: 'Broker', name: 'Ajamian Margaret A', zip: '10956', city: 'NEW CITY', extra: 'Firm: COLDWELL BANKER', value: 'Associate Broker' }
        ];

        function applyFilters() {
            const city = document.getElementById('cityFilter').value;
            const zip = document.getElementById('zipFilter').value;
            
            const filtered = rawData.filter(d => 
                (city === "" || d.city.toUpperCase() === city.toUpperCase()) &&
                (zip === "" || d.zip === zip)
            );

            renderGrid(filtered);
        }

        function renderGrid(data) {
            const grid = document.getElementById('universalGrid');
            grid.innerHTML = data.map(d => `
                <div onclick="selectRecord('${d.name}', '${d.type}', '${d.extra}')" class="glass p-5 rounded-3xl cursor-pointer hover:bg-white/5 transition-all card-${d.type.toLowerCase()}">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-[8px] mono font-bold uppercase ${d.type === 'Property' ? 'text-emerald-500' : d.type === 'Broker' ? 'text-violet-500' : 'text-orange-500'}">${d.type}</span>
                        <span class="text-[9px] mono text-slate-500">${d.zip}</span>
                    </div>
                    <h4 class="text-sm font-black uppercase italic leading-tight mb-1">${d.name}</h4>
                    <p class="text-[9px] text-slate-400 mb-4">${d.city}</p>
                    <div class="flex justify-between items-end">
                        <div class="text-[10px] font-black text-white">${d.value}</div>
                        <div class="text-[8px] mono text-slate-500">${d.extra.split(':')[0]}</div>
                    </div>
                </div>
            `).join('');
        }

        function selectRecord(name, type, extra) {
            const ai = document.getElementById('aiScript');
            const script = type === 'Property' 
                ? `[ELARA-PROMPT]: "Hi, I'm calling about ${name}. I see you're listed as the owner. My client is looking to acquire vacant assets in ${document.getElementById('cityFilter').value || 'your area'}. Are you open to a cash offer?"`
                : type === 'Broker' 
                ? `[ELARA-PROMPT]: "Hello ${name}, I'm calling from Acquisitions Dept. We're tracking off-market deals in ${name}'s sector. Do you have any pocket listings for ${extra.split(':')[1]} clients?"`
                : `[ELARA-PROMPT]: "Regarding the lease at ${name}. We're analyzing government-backed renewals. Can you confirm the vacancy status for the upcoming ${extra.split(':')[1]} expiration?"`;
            
            ai.innerText = script;
        }

        function dispatchCall() {
            const log = document.getElementById('dispatchLog');
            if (log.innerText.includes('Waiting')) log.innerHTML = '';
            
            const time = new Date().toLocaleTimeString();
            const div = document.createElement('div');
            div.className = "p-2 bg-violet-500/10 border border-violet-500/20 rounded text-violet-400 mb-2";
            div.innerHTML = `[${time}] ELARA BRIDGE: Initiating VoIP outbound... Link Status: 200 OK`;
            log.prepend(div);
            
            alert("Elara AI: Outbound Call Triggered. Check your dashboard for live transcript.");
        }

        // Initialize with all data
        renderGrid(rawData);
    </script>
</body>
</html>
