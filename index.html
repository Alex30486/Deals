<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEALSCOPE v3.0 | AI Property Manager</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-[#020b05] text-[#00ff9d] font-mono">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const PIPELINE = [
            { id: "maxcopell~zillow-zip-search", label: "SEARCH", icon: "fa-location-crosshairs", color: "text-blue-400" },
            { id: "18TsPuKUHiy49Y10E", label: "ENRICH", icon: "fa-database", color: "text-yellow-400" },
            { id: "CLAUDE_SONNET", label: "SCORE", icon: "fa-brain", color: "text-emerald-400" }
        ];

        const App = () => {
            const [location, setLocation] = useState('');
            const [isHunting, setIsHunting] = useState(false);
            const [results, setResults] = useState([]);
            const [agentMsgs, setAgentMsgs] = useState([{ role: 'ai', text: "Agent ELARA online. Standby for market directives." }]);

            const runHunt = async () => {
                if(!location) return;
                setIsHunting(true);
                // Simulate pipeline stages from deal-finder.jsx
                await new Promise(r => setTimeout(r, 1500)); 
                
                const deals = [
                    { addr: `742 Evergreen Terr, ${location}`, price: 420000, zest: 510000, score: 92, thesis: "Deep equity discount; potential fix-and-flip candidate." }
                ];
                setResults(deals);
                setAgentMsgs(prev => [...prev, { role: 'ai', text: `Analysis complete. Found a high-yield asset at ${deals[0].addr}. Recommendation: Immediate follow-up.` }]);
                setIsHunting(false);
            };

            return (
                <div className="p-8 max-w-6xl mx-auto">
                    <div className="flex justify-between border-b border-emerald-900 pb-8 mb-8">
                        <h1 className="text-3xl font-black italic glow-text">DEALSCOPE <span className="text-white">v3.0</span></h1>
                        <div className="flex gap-2">
                            <input className="bg-black border border-emerald-500/30 px-4 py-2 text-xs" placeholder="ZIP..." onChange={(e)=>setLocation(e.target.value)} />
                            <button onClick={runHunt} className="bg-emerald-500 text-black px-6 py-2 text-xs font-bold" disabled={isHunting}>
                                {isHunting ? 'ACTIVE...' : 'EXECUTE'}
                            </button>
                        </div>
                    </div>

                    <div className="grid grid-cols-12 gap-8">
                        <div className="col-span-8 space-y-4">
                            {results.map((d, i) => (
                                <div key={i} className="border border-emerald-500/20 p-6 bg-black/40">
                                    <h3 className="text-xl font-bold uppercase">{d.addr}</h3>
                                    <p className="text-sm text-gray-500 italic mt-2">"{d.thesis}"</p>
                                </div>
                            ))}
                        </div>
                        <div className="col-span-4 border border-emerald-500/20 p-6 h-96 overflow-y-auto">
                            <div className="text-[10px] font-bold text-emerald-900 uppercase mb-4">Property Manager Elara</div>
                            {agentMsgs.map((m, i) => <div key={i} className="text-xs text-emerald-300 mb-2">â€º {m.text}</div>)}
                        </div>
                    </div>
                </div>
            );
        };

        // For React 18, use createRoot instead of render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
