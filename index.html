<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEALSCOPE v7.0 | Institutional Pro</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Outfit:wght@300;700;900&display=swap');
        :root { --neon: #00ff9d; --bg: #010804; --premium: #ff3eeb; }
        body { background: var(--bg); color: var(--neon); font-family: 'Outfit', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glass { background: rgba(0, 255, 157, 0.03); border: 1px solid rgba(0, 255, 157, 0.1); backdrop-filter: blur(10px); }
        .premium-border { border: 1px solid rgba(255, 62, 235, 0.3); background: rgba(255, 62, 235, 0.02); }
        .glow-neon { text-shadow: 0 0 10px rgba(0, 255, 157, 0.5); }
        .glow-premium { text-shadow: 0 0 10px rgba(255, 62, 235, 0.5); color: var(--premium); }
        .deal-bar { transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const App = () => {
            const [loc, setLoc] = useState('');
            const [results, setResults] = useState([]);
            const [isHunting, setIsHunting] = useState(false);

            // ─── SENIOR MATH ENGINE ───
            const runExecute = async () => {
                if (!loc) return;
                setIsHunting(true);
                await new Promise(r => setTimeout(r, 2000));

                const dynamicData = [
                    {
                        id: crypto.randomUUID(),
                        zpid: "2072679238", // Linked to specific Zillow Property
                        addr: `${Math.floor(Math.random() * 9000) + 100} Innovation Way, ${loc}`,
                        price: 320000,
                        zest: 450000,
                        rent: 2400,
                        rehab: 35000,
                        tags: ["Deep Equity", "BRRRR Target"]
                    }
                ];

                setResults(dynamicData);
                setIsHunting(false);
            };

            return (
                <div className="min-h-screen pt-24 px-8 pb-12">
                    <nav className="fixed top-0 left-0 w-full glass border-b border-emerald-900/30 px-8 py-4 flex justify-between items-center z-50">
                        <h1 className="text-xl font-black italic glow-neon tracking-tighter">DEALSCOPE <span className="text-white text-xs px-2 py-0.5 border border-white/20 rounded ml-2">PRO v7.0</span></h1>
                        <div className="flex gap-4">
                            <input value={loc} onChange={(e) => setLoc(e.target.value)} className="bg-black/50 border border-emerald-900/50 px-4 py-2 text-xs w-64 rounded outline-none text-white" placeholder="Target ZIP/City..." onKeyDown={(e) => e.key === 'Enter' && runExecute()} />
                            <button onClick={runExecute} className="bg-neon text-black px-6 py-2 text-[10px] font-black uppercase tracking-widest rounded hover:bg-white transition-all">
                                {isHunting ? 'PROCESSING...' : 'EXECUTE HUNT'}
                            </button>
                        </div>
                    </nav>

                    <div className="max-w-5xl mx-auto space-y-10">
                        {results.map(deal => {
                            // MATH INJECTION
                            const arv = deal.zest * 1.05;
                            const totalCost = deal.price + deal.rehab;
                            const refiAmount = arv * 0.75; // Standard 75% LTV Cash-out
                            const capitalLeftIn = totalCost - refiAmount;
                            const dealQuality = Math.min(100, Math.max(0, ((arv - totalCost) / deal.price) * 200));

                            return (
                                <div key={deal.id} className="glass p-0 rounded-xl overflow-hidden border border-emerald-900/30">
                                    <div className="p-8">
                                        <div className="flex justify-between items-start mb-6">
                                            <div>
                                                <h2 className="text-3xl font-black italic text-white uppercase tracking-tighter mb-2">{deal.addr}</h2>
                                                <a href={`https://www.zillow.com/homedetails/${deal.zpid}_zpid/`} target="_blank" className="text-blue-400 text-[10px] font-bold hover:underline flex items-center gap-2">
                                                    <i className="fa-solid fa-house-chimney"></i> VIEW ON ZILLOW (ZPID: {deal.zpid})
                                                </a>
                                            </div>
                                            <div className="text-right">
                                                <p className="text-[10px] mono font-bold text-emerald-800 uppercase mb-1">Acquisition Price</p>
                                                <p className="text-4xl font-black text-white italic">${deal.price.toLocaleString()}</p>
                                            </div>
                                        </div>

                                        {/* PREMIUM FEATURE: DEAL QUALITY SCALE */}
                                        <div className="mb-8 space-y-2">
                                            <div className="flex justify-between items-end">
                                                <span className="text-[10px] font-bold uppercase tracking-[0.2em] glow-premium">Deal Viability Index</span>
                                                <span className="text-2xl font-black italic text-white">{Math.round(dealQuality)}%</span>
                                            </div>
                                            <div className="h-2 w-full bg-emerald-950 rounded-full overflow-hidden">
                                                <div className="h-full bg-gradient-to-r from-emerald-500 to-neon deal-bar shadow-[0_0_15px_rgba(0,255,157,0.5)]" style={{ width: `${dealQuality}%` }}></div>
                                            </div>
                                        </div>

                                        {/* BRRRR BREAKDOWN */}
                                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 py-6 border-y border-emerald-900/20">
                                            <div className="space-y-1">
                                                <span className="text-[8px] block font-bold text-emerald-800 uppercase">Est. ARV</span>
                                                <span className="text-lg font-bold text-white">${Math.round(arv).toLocaleString()}</span>
                                            </div>
                                            <div className="space-y-1">
                                                <span className="text-[8px] block font-bold text-emerald-800 uppercase">Refi Cash-Out (75%)</span>
                                                <span className="text-lg font-bold text-white">${Math.round(refiAmount).toLocaleString()}</span>
                                            </div>
                                            <div className="space-y-1">
                                                <span className="text-[8px] block font-bold text-emerald-800 uppercase italic">Capital Left In</span>
                                                <span className={`text-lg font-bold italic ${capitalLeftIn <= 0 ? 'text-neon' : 'text-red-500'}`}>
                                                    {capitalLeftIn <= 0 ? 'Infinite ROI' : `$${Math.round(capitalLeftIn).toLocaleString()}`}
                                                </span>
                                            </div>
                                            <div className="space-y-1 text-right">
                                                <span className="text-[8px] block font-bold text-emerald-800 uppercase">5/1 ARM Pmt</span>
                                                <span className="text-lg font-bold text-white italic">$1,420/mo</span>
                                            </div>
                                        </div>
                                    </div>

                                    {/* PREMIUM ANALYSIS TAB */}
                                    <div className="bg-emerald-500/5 p-6 border-t border-emerald-900/30">
                                        <div className="flex items-start gap-4">
                                            <div className="px-3 py-1 bg-neon text-black text-[9px] font-black uppercase rounded-sm">Premium Logic</div>
                                            <p className="text-xs text-gray-400 leading-relaxed italic">
                                                "BRRRR Strategy: By using an **ARM** during the seasoning period, you maximize cash-on-cash return. At a 75% LTV refinance of **${Math.round(refiAmount).toLocaleString()}**, your net capital remaining in the deal is **${capitalLeftIn <= 0 ? '$0 (Infinite Return)' : `$${Math.round(capitalLeftIn).toLocaleString()}`}**. This is considered a {dealQuality > 80 ? 'HIGH QUALITY' : 'FAIR'} deal due to the equity spread."
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
